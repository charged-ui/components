"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const c=require("lit"),l=require("./property-DgwSjdZd.js"),p=require("./state-BRh57wQp.js"),h=require("./registry-Bpi-HjGd.js");var u=Object.defineProperty,m=Object.getOwnPropertyDescriptor,s=(d,e,t,n)=>{for(var r=n>1?void 0:n?m(e,t):e,o=d.length-1,i;o>=0;o--)(i=d[o])&&(r=(n?i(e,t,r):i(r))||r);return n&&r&&u(e,t,r),r};exports.UIModal=class extends c.LitElement{constructor(){super(...arguments),this.isOpen=!1,this.title="",this.closeOnBackdrop=!0,this.closeOnEscape=!0,this.size="md",this._portalContainer=null,this._handleKeydown=e=>{e.key==="Escape"&&this.isOpen&&this.close()},this._handleBackdropClick=e=>{this.closeOnBackdrop&&e.target===e.currentTarget&&this.close()}}connectedCallback(){super.connectedCallback(),this._createPortalContainer(),this._bindEvents()}disconnectedCallback(){super.disconnectedCallback(),this._cleanupPortalContainer(),this._unbindEvents()}_createPortalContainer(){this._portalContainer||(this._portalContainer=document.createElement("div"),this._portalContainer.id=`dialog-portal-${Math.random().toString(36).substr(2,9)}`,document.body.appendChild(this._portalContainer))}_cleanupPortalContainer(){this._portalContainer&&this._portalContainer.parentNode&&(this._portalContainer.parentNode.removeChild(this._portalContainer),this._portalContainer=null)}_bindEvents(){this.closeOnEscape&&document.addEventListener("keydown",this._handleKeydown)}_unbindEvents(){document.removeEventListener("keydown",this._handleKeydown)}_getSizeClasses(){return{lg:"max-w-lg"}.lg}open(){this.isOpen=!0,this._preventBodyScroll(),this.dispatchEvent(new CustomEvent("dialog-opened",{bubbles:!0}))}close(){this.isOpen=!1,this._restoreBodyScroll(),this.dispatchEvent(new CustomEvent("dialog-closed",{bubbles:!0}))}_preventBodyScroll(){document.body.style.overflow="hidden"}_restoreBodyScroll(){document.body.style.overflow=""}updated(e){super.updated(e),e.has("isOpen")&&this._portalContainer&&(this.isOpen?this._renderToPortal():(this._restoreContent(),this._portalContainer.innerHTML=""))}_restoreContent(){if(!this._portalContainer)return;const e=this._portalContainer.querySelector(".modal-content");e&&Array.from(e.children).forEach(n=>{this.appendChild(n)})}_renderToPortal(){if(!this._portalContainer)return;const e=document.createElement("div");e.className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 backdrop-blur-sm",e.addEventListener("click",this._handleBackdropClick);const t=document.createElement("div");if(t.className=`relative w-full ${this._getSizeClasses()} bg-white rounded-lg shadow-xl transform transition-all duration-200 ease-out`,t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true"),this.title&&t.setAttribute("aria-labelledby","dialog-title"),this.title){const o=document.createElement("div");o.className="flex items-center justify-between p-4 border-b border-gray-200";const i=document.createElement("h2");i.id="dialog-title",i.className="text-lg font-semibold text-gray-900",i.textContent=this.title;const a=document.createElement("button");a.type="button",a.className="text-gray-400 hover:text-gray-600 transition-colors",a.setAttribute("aria-label","Close dialog"),a.innerHTML=`
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      `,a.addEventListener("click",()=>this.close()),o.appendChild(i),o.appendChild(a),t.appendChild(o)}const n=document.createElement("div");n.className="modal-content",Array.from(this.children).forEach(o=>{n.appendChild(o)}),t.appendChild(n),e.appendChild(t),this._portalContainer.innerHTML="",this._portalContainer.appendChild(e)}render(){return c.html``}};exports.UIModal.styles=c.css`
    :host {
      display: contents;
    }
  `;s([l.n({type:Boolean,reflect:!0})],exports.UIModal.prototype,"isOpen",2);s([l.n({type:String})],exports.UIModal.prototype,"title",2);s([l.n({type:Boolean})],exports.UIModal.prototype,"closeOnBackdrop",2);s([l.n({type:Boolean})],exports.UIModal.prototype,"closeOnEscape",2);s([l.n({type:String})],exports.UIModal.prototype,"size",2);s([p.r()],exports.UIModal.prototype,"_portalContainer",2);exports.UIModal=s([h.chargedCustomElement("ui-modal")],exports.UIModal);
